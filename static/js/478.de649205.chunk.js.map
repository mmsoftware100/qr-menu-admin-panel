{"version":3,"file":"static/js/478.de649205.chunk.js","mappings":"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","sources":["template/sections/menu/v2/listing/menu-list.jsx","template/pages/menu/menu-list.jsx","../node_modules/@mui/icons-material/esm/Delete.js","../node_modules/@mui/icons-material/esm/Edit.js"],"sourcesContent":["/*\n    Shop နဲ့ Category Dropdown နှစ်ခု လိုမယ်။\n    အဲ့တော အပေါ်မူတည်ပြီး menu တွေ ေပြာင်းနေမယ်ပေါ့ ဒါမျိုးလား?\n\n    table နဲ့ ခွဲပြီး ပြထားလဲ ရတယ်။\n    Category တစ်ခုကို table တစ်ခုပေါ့။\n    ဒါမှ မဟုတ် အကုန် တန်းစီပြထားလဲ ရတယ်။ \n    အကုန် တန်းစီပြလိုက်မယ်။\n    တစ်ဆိုင်ကို ဇယားတစ်ခု။\n\n*/\n\nimport { Box, Button, Chip, Container, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Stack, Table, Typography } from '@mui/material';\n\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectMenuDeleteStatus, selectMenuError, selectSelectedMenu, selectShopList, setMenuDeleteStatus, setSelectedMenu, setSelectedShop } from 'features/main/mainSlice';\nimport { Delete, Edit } from '@mui/icons-material';\nimport Iconify from 'template/components/iconify';\nimport { useRouter } from 'template/routes/hooks';\nimport { useState } from 'react';\nimport { deleteMenuAsyncThunk } from 'features/menu/menuSlice';\nimport { selectAccessToken } from 'features/user/userSlice';\n\n// const shopList = [1, 2, 3];\nexport default function MenuList() {\n  const shopList = useSelector(selectShopList);\n  const selectedMenu = useSelector(selectSelectedMenu);\n  const accessToken = useSelector(selectAccessToken);\n  const menuDeleteStatus = useSelector(selectMenuDeleteStatus);\n  const menuError = useSelector(selectMenuError);\n\n  const dispatch = useDispatch();\n  const router = useRouter();\n\n  // ---------- internal state ------------ //\n  // for delete confirmation dialog\n  const [deleteConfirmationDialog, setDeleteConfirmationDialog] = useState(false);\n\n\n  const newMenuClicked = (shop) => {\n    dispatch(setSelectedShop(shop.id));\n    router.push('/menus/create');\n  };\n\n  const editMenuClicked = (shop, menu) => {\n    dispatch(setSelectedMenu(menu));\n    dispatch(setSelectedShop(shop.id));\n    router.push(`/menus/${menu.id}/edit`);\n  };\n\n\n  const deleteMenuClicked = (menu) => {\n    dispatch(setSelectedMenu(menu));\n    setDeleteConfirmationDialog(true);\n  };\n\n  const cancelDelete = () => {\n    // close dialog\n    setDeleteConfirmationDialog(false);\n  }\n  const confirmDelete = (id, access_token) => {\n    // close dialog\n    setDeleteConfirmationDialog(false);\n    let formData = new FormData();\n    formData.append('access_token', access_token);\n    formData.append('id', id);\n    dispatch(deleteMenuAsyncThunk(formData));\n  }\n\n\n  const handleErrorDialogClose = () => {\n    // set error status to idle\n    dispatch(setMenuDeleteStatus('idle'));\n  }\n\n\n  return (\n    <>\n      <Container component=\"main\" maxWidth=\"lg\">\n        {shopList.map((shop) => (\n          <Box>\n            {/* categories header */}\n            <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" mb={5} mt={5}>\n              <Typography variant=\"h4\">{shop.name}'s Menus</Typography>\n\n              <Button\n                onClick={() => newMenuClicked(shop)}\n                // component={Link}\n                // to={`/categories/create?shop_id=${shop.id}`}\n                variant=\"contained\"\n                color=\"inherit\"\n                startIcon={<Iconify icon=\"eva:plus-fill\" />}\n              >\n                New Menu\n              </Button>\n            </Stack>\n            <Table>\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"left\">အမည်</TableCell>\n                  <TableCell align=\"right\">Category</TableCell>\n                  <TableCell align=\"right\">ခလုပ်များ</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {shop.categories.map((category) =>\n                  category.menus.map((menu) => (\n                    <TableRow\n                      key={menu.id}\n                      sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                    >\n                      <TableCell component=\"th\" scope=\"row\">\n                        {menu.name}\n                      </TableCell>\n                      <TableCell align=\"right\">\n                        <Chip label={category.name} variant=\"outlined\" />\n                        </TableCell>\n                      <TableCell align=\"right\">\n                        <Button onClick={() => editMenuClicked(shop, menu)}>\n                          <Edit />\n                        </Button>\n                        <Button onClick={() => deleteMenuClicked(menu)}>\n                          <Delete />\n                        </Button>\n                      </TableCell>\n                    </TableRow>\n                  ))\n                )}\n              </TableBody>\n            </Table>\n          </Box>\n        ))}\n      </Container>\n\n\n      {/* delete confirmation dialog */}\n      <Dialog\n        open={deleteConfirmationDialog}\n        // onClose={() => handleClose(id)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">Delete Confirmation!</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Are you sure to delete {selectedMenu.name} ?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => cancelDelete(0)} autoFocus>\n            Cancel\n          </Button>\n          <Button onClick={() => confirmDelete(selectedMenu.id, accessToken)} autoFocus>\n            OK\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* delete error dialog */}\n      <Dialog\n        open={menuDeleteStatus === 'error'}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">Error!</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">{menuError}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleErrorDialogClose} autoFocus>\n            OK\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import { Helmet } from 'react-helmet-async';\n\nimport { MenuListSection } from 'template/sections/menu/v2/listing';\n\n// ----------------------------------------------------------------------\n\nexport default function MenuList() {\n  return (\n    <>\n      <Helmet>\n        <title> Menu | List </title>\n      </Helmet>\n\n      <MenuListSection />\n    </>\n  );\n}\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');"],"names":["MenuList","shopList","useSelector","selectShopList","selectedMenu","selectSelectedMenu","accessToken","selectAccessToken","menuDeleteStatus","selectMenuDeleteStatus","menuError","selectMenuError","dispatch","useDispatch","router","useRouter","_useState","useState","_useState2","_slicedToArray","deleteConfirmationDialog","setDeleteConfirmationDialog","_jsxs","_Fragment","children","_jsx","Container","component","maxWidth","map","shop","Box","Stack","direction","alignItems","justifyContent","mb","mt","Typography","variant","name","Button","onClick","setSelectedShop","id","push","newMenuClicked","color","startIcon","Iconify","icon","Table","TableHead","TableRow","TableCell","align","TableBody","categories","category","menus","menu","sx","border","scope","Chip","label","setSelectedMenu","concat","editMenuClicked","Edit","deleteMenuClicked","Delete","Dialog","open","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","access_token","formData","FormData","append","deleteMenuAsyncThunk","confirmDelete","setMenuDeleteStatus","Helmet","MenuListSection","createSvgIcon","d"],"sourceRoot":""}