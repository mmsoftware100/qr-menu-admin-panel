{"version":3,"file":"static/js/478.7f4ad8d8.chunk.js","mappings":"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","sources":["template/sections/menu/v2/listing/menu-list.jsx","template/pages/menu/menu-list.jsx","template/sections/shops/noshop/no-shop-component.jsx","../node_modules/@mui/icons-material/esm/Delete.js","../node_modules/@mui/icons-material/esm/Edit.js"],"sourcesContent":["/*\n    Shop နဲ့ Category Dropdown နှစ်ခု လိုမယ်။\n    အဲ့တော အပေါ်မူတည်ပြီး menu တွေ ေပြာင်းနေမယ်ပေါ့ ဒါမျိုးလား?\n\n    table နဲ့ ခွဲပြီး ပြထားလဲ ရတယ်။\n    Category တစ်ခုကို table တစ်ခုပေါ့။\n    ဒါမှ မဟုတ် အကုန် တန်းစီပြထားလဲ ရတယ်။ \n    အကုန် တန်းစီပြလိုက်မယ်။\n    တစ်ဆိုင်ကို ဇယားတစ်ခု။\n\n*/\n\nimport {\n  Box,\n  Button,\n  Chip,\n  Container,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Stack,\n  Table,\n  Typography,\n} from '@mui/material';\n\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectMenuDeleteStatus,\n  selectMenuError,\n  selectSelectedMenu,\n  selectShopList,\n  setMenuDeleteStatus,\n  setSelectedMenu,\n  setSelectedShop,\n} from 'features/main/mainSlice';\nimport { Delete, Edit } from '@mui/icons-material';\nimport Iconify from 'template/components/iconify';\nimport { useRouter } from 'template/routes/hooks';\nimport { useEffect, useState } from 'react';\nimport { deleteMenuAsyncThunk } from 'features/menu/menuSlice';\nimport { selectAccessToken } from 'features/user/userSlice';\nimport NoShopComponent from 'template/sections/shops/noshop/no-shop-component';\nimport { selectShopListAsyncThunk } from 'features/shop/shopSlice';\nimport { Link } from 'react-router-dom';\n\n// const shopList = [1, 2, 3];\nexport default function MenuList() {\n  const shopList = useSelector(selectShopList);\n  const selectedMenu = useSelector(selectSelectedMenu);\n  const accessToken = useSelector(selectAccessToken);\n  const menuDeleteStatus = useSelector(selectMenuDeleteStatus);\n  const menuError = useSelector(selectMenuError);\n\n  const dispatch = useDispatch();\n  const router = useRouter();\n\n  // ---------- internal state ------------ //\n  // for delete confirmation dialog\n  const [deleteConfirmationDialog, setDeleteConfirmationDialog] = useState(false);\n\n  const newMenuClicked = (shop) => {\n    dispatch(setSelectedShop(shop.id));\n    router.push('/menus/create');\n  };\n\n  const editMenuClicked = (shop, menu) => {\n    dispatch(setSelectedMenu(menu));\n    dispatch(setSelectedShop(shop.id));\n    router.push(`/menus/${menu.id}/edit`);\n  };\n\n  const deleteMenuClicked = (menu) => {\n    dispatch(setSelectedMenu(menu));\n    setDeleteConfirmationDialog(true);\n  };\n\n  const cancelDelete = () => {\n    // close dialog\n    setDeleteConfirmationDialog(false);\n  };\n  const confirmDelete = (id, access_token) => {\n    // close dialog\n    setDeleteConfirmationDialog(false);\n    let formData = new FormData();\n    formData.append('access_token', access_token);\n    formData.append('id', id);\n    dispatch(deleteMenuAsyncThunk(formData));\n  };\n\n  const handleErrorDialogClose = () => {\n    // set error status to idle\n    dispatch(setMenuDeleteStatus('idle'));\n  };\n\n\n  const newCategoryClicked = (shop) => {\n    console.log(\"newCategoryClicked\");\n    console.log(shop.name);\n    console.log(shop.id);\n    dispatch(setSelectedShop(shop.id));\n    console.log(\"dispatch\");\n    // go to category new page\n\n    // router.push(`/categories/${1}/edit`);\n    router.push('/categories/create');\n    console.log(\"router\");\n  }\n\n\n  useEffect(() => {\n    const access_token = accessToken;\n    const page = 1;\n    const data = { access_token, page };\n    dispatch(selectShopListAsyncThunk(data));\n  }, []);\n\n  return (\n    <>\n      <Container component=\"main\" maxWidth=\"lg\">\n        {shopList.length === 0 ? <NoShopComponent /> : <Container></Container>}\n\n        {shopList.map((shop) => (\n          <Box>\n            {/* categories header */}\n            <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" mb={5} mt={5}>\n              <Typography variant=\"h4\">{shop.name}'s Categories</Typography>\n\n              {shop.categories.length === 0 ? (\n                <></>\n              ) : (\n                <Button\n                  onClick={() => newMenuClicked(shop)}\n                  // component={Link}\n                  // to={`/categories/create?shop_id=${shop.id}`}\n                  variant=\"contained\"\n                  color=\"inherit\"\n                  startIcon={<Iconify icon=\"eva:plus-fill\" />}\n                >\n                  New Category\n                </Button>\n              )}\n            </Stack>\n            <Table>\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"left\">အမည်</TableCell>\n                  <TableCell align=\"right\">Menu</TableCell>\n                  <TableCell align=\"right\">ခလုပ်များ</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n              {shop.categories.length === 0 ? (\n                <Container sx={{textAlign:'center', padding:'8px'}}> <Typography onClick={() => {newCategoryClicked(shop);}} sx={{color:'blue', cursor:'pointer'}}>Please insert your first menu</Typography> </Container>\n              ) : (\n                <></>\n              )}\n\n                {shop.categories.map((category) =>\n                  category.menus.map((menu) => (\n                    <TableRow\n                      key={menu.id}\n                      sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                    >\n                      <TableCell component=\"th\" scope=\"row\">\n                        {menu.name}\n                      </TableCell>\n                      <TableCell align=\"right\">\n                        <Chip label={category.name} variant=\"outlined\" />\n                      </TableCell>\n                      <TableCell align=\"right\">\n                        <Button onClick={() => editMenuClicked(shop, menu)}>\n                          <Edit />\n                        </Button>\n                        <Button onClick={() => deleteMenuClicked(menu)}>\n                          <Delete />\n                        </Button>\n                      </TableCell>\n                    </TableRow>\n                  ))\n                )}\n              </TableBody>\n            </Table>\n          </Box>\n        ))}\n      </Container>\n\n      {/* delete confirmation dialog */}\n      <Dialog\n        open={deleteConfirmationDialog}\n        // onClose={() => handleClose(id)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">Delete Confirmation!</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Are you sure to delete {selectedMenu.name} ?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => cancelDelete(0)} autoFocus>\n            Cancel\n          </Button>\n          <Button onClick={() => confirmDelete(selectedMenu.id, accessToken)} autoFocus>\n            OK\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* delete error dialog */}\n      <Dialog\n        open={menuDeleteStatus === 'error'}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">Error!</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">{menuError}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleErrorDialogClose} autoFocus>\n            OK\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n","import { Helmet } from 'react-helmet-async';\n\nimport { MenuListSection } from 'template/sections/menu/v2/listing';\n\n// ----------------------------------------------------------------------\n\nexport default function MenuList() {\n  return (\n    <>\n      <Helmet>\n        <title> Menu | List </title>\n      </Helmet>\n\n      <MenuListSection />\n    </>\n  );\n}\n","import { Box } from \"@mui/material\";\n\nexport default function NoShopComponent() {\n    \n  return (\n    <Box>\n        <h2>No shop is available, please insert your first shop</h2>\n    </Box>\n  );\n}\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');"],"names":["MenuList","shopList","useSelector","selectShopList","selectedMenu","selectSelectedMenu","accessToken","selectAccessToken","menuDeleteStatus","selectMenuDeleteStatus","menuError","selectMenuError","dispatch","useDispatch","router","useRouter","_useState","useState","_useState2","_slicedToArray","deleteConfirmationDialog","setDeleteConfirmationDialog","useEffect","data","access_token","page","selectShopListAsyncThunk","_jsxs","_Fragment","children","Container","component","maxWidth","length","_jsx","NoShopComponent","map","shop","Box","Stack","direction","alignItems","justifyContent","mb","mt","Typography","variant","name","categories","Button","onClick","setSelectedShop","id","push","newMenuClicked","color","startIcon","Iconify","icon","Table","TableHead","TableRow","TableCell","align","TableBody","sx","textAlign","padding","console","log","newCategoryClicked","cursor","category","menus","menu","border","scope","Chip","label","setSelectedMenu","concat","editMenuClicked","Edit","deleteMenuClicked","Delete","Dialog","open","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","formData","FormData","append","deleteMenuAsyncThunk","confirmDelete","setMenuDeleteStatus","Helmet","MenuListSection","createSvgIcon","d"],"sourceRoot":""}