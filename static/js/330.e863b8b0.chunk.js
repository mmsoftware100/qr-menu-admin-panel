"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[330],{5330:function(e,n,i){i.r(n),i.d(n,{default:function(){return o}});var r=i(6907),s=i(3810),a=i(184);function o(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.ql,{children:(0,a.jsx)("title",{children:" Shops | Create "})}),(0,a.jsx)(s.W,{})]})}},3810:function(e,n,i){i.d(n,{W:function(){return q}});var r=i(4942),s=i(1413),a=i(9439),o=i(2791),t=i(697),l=i(533),d=i(7621),c=i(6314),h=i(2880),m=i(8550),p=i(890),u=i(9709),g=i(3967),x=i(2065),j=i(5289),f=i(7123),Z=i(9157),v=i(1691),b=i(5661),_=i(6916),w=i(6779),k=i(4349),y=(i(7429),i(9434)),C=i(7689),P=i(1397),W=i(6425),O=i(8417),S=i(1889),T=i(184);function q(){var e,n,i,q=(0,g.Z)(),F=((0,_.t)(),(0,o.useState)(!1)),I=(0,a.Z)(F,2),D=(I[0],I[1],(0,C.s0)()),N=(0,y.I0)(),X=(0,o.useState)({name:"",email:"",password:"",confirm_password:""}),A=(0,a.Z)(X,2),B=A[0],E=A[1],V=(0,o.useState)({background_image:null,shop_image:null}),z=(0,a.Z)(V,2),G=z[0],H=(z[1],(0,y.v9)(W.V9)),K=(0,y.v9)(W.Xj),L=(0,y.v9)(W.cs),U=(0,y.v9)(P.Gu),$=(0,y.v9)(P.ef),J=function(e){var n=e.target,i=n.name,a=n.value;console.log({name:i,value:a}),E((0,s.Z)((0,s.Z)({},B),{},(0,r.Z)({},i,a)))},M=function(){N((0,W.Xp)("idle"))};(0,o.useEffect)((function(){"succeeded"==H&&(N((0,W.Xp)("idle")),D("/shops"))}),[H]);var Q=(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(t.Z,{component:"form",onSubmit:function(e){console.log(e),e.preventDefault();var n={};if(B.name||(n.name="Name is required"),B.description||(n.description="Description is required"),B.address||(n.address="Address is required"),B.contact||(n.contact="Contact is required"),console.log(),console.log(n),Object.keys(n).length>0)N((0,W.ho)(n));else{N((0,P.B$)({}));var i=new FormData(e.target);void 0!==G.background_image&&i.append("background_image",G.background_image),void 0!==G.shop_image&&i.append("shop_image",G.shop_image),console.log(i.get("background_image")),console.log(i.get("shop_image")),console.log(i.get("access_token")),N((0,O.Dp)(i))}},noValidate:!0,sx:{mt:1},children:[(0,T.jsx)("input",{type:"hidden",value:U,name:"access_token",placeholder:"Hidden Input"}),(0,T.jsx)("input",{type:"hidden",name:"url",value:void 0===B.name?"":(null===B||void 0===B||null===(e=B.name)||void 0===e?void 0:e.toLowerCase().replace(/ /g,"-"))+"-"+$.id}),(0,T.jsxs)(S.ZP,{container:!0,spacing:3,children:[(0,T.jsx)(S.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsx)(m.Z,{name:"name",label:"Shop Name",onChange:J,error:L.hasOwnProperty("name"),helperText:L.name,fullWidth:!0})}),(0,T.jsx)(S.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsx)(m.Z,{name:"description",label:"Shop Description",onChange:J,error:L.hasOwnProperty("description"),helperText:L.description,fullWidth:!0})}),(0,T.jsx)(S.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsx)(m.Z,{name:"address",label:"Address",onChange:J,error:L.hasOwnProperty("address"),helperText:L.address,fullWidth:!0})}),(0,T.jsx)(S.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsx)(m.Z,{name:"contact",label:"Contact Number",onChange:J,error:L.hasOwnProperty("contact"),helperText:L.contact,fullWidth:!0})}),(0,T.jsx)(S.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsx)(m.Z,{name:"wifi_name",label:"Wifi Name",onChange:J,error:L.hasOwnProperty("wifi_name"),helperText:L.wifi_name,fullWidth:!0})}),(0,T.jsx)(S.ZP,{item:!0,xs:12,sm:6,children:(0,T.jsx)(m.Z,{name:"wifi_password",label:"Wifi Password",onChange:J,error:L.hasOwnProperty("wifi_password"),helperText:L.wifi_password,fullWidth:!0})}),(0,T.jsxs)(S.ZP,{item:!0,xs:12,sm:6,children:[(0,T.jsxs)(p.Z,{children:["Shop Image ",null===(n=G.background_image)||void 0===n?void 0:n.name]}),(0,T.jsx)(m.Z,{type:"file",name:"shop_image",onChange:J,error:L.hasOwnProperty("shop_image"),helperText:L.shop_image,fullWidth:!0})]}),(0,T.jsxs)(S.ZP,{item:!0,xs:12,sm:6,children:[(0,T.jsxs)(p.Z,{children:["Background Image ",null===(i=G.background_image)||void 0===i?void 0:i.name]}),(0,T.jsx)(m.Z,{type:"file",name:"background_image",onChange:J,error:L.hasOwnProperty("background_image"),helperText:L.background_image,fullWidth:!0})]})]}),(0,T.jsx)(c.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:(0,T.jsx)(l.Z,{variant:"subtitle2",underline:"hover"})}),(0,T.jsx)(u.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",loading:"idle"!==H,children:"Create Shop"})]})}),R=(0,T.jsxs)(j.Z,{open:"error"===H,onClose:M,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,T.jsx)(b.Z,{id:"alert-dialog-title",children:"Error"}),(0,T.jsx)(Z.Z,{children:(0,T.jsx)(v.Z,{id:"alert-dialog-description",children:K})}),(0,T.jsx)(f.Z,{children:(0,T.jsx)(h.Z,{onClick:M,autoFocus:!0,children:"OK"})})]});return(0,T.jsxs)(t.Z,{sx:(0,s.Z)((0,s.Z)({},(0,w.v3)({color:(0,x.Fq)(q.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"})),{},{height:1}),children:[(0,T.jsx)(k.Z,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),(0,T.jsx)(c.Z,{alignItems:"center",justifyContent:"center",sx:{height:1},children:(0,T.jsxs)(d.Z,{sx:{p:5,width:1,maxWidth:1024},children:[(0,T.jsx)(p.Z,{variant:"h4",children:"New Shop Form"}),(0,T.jsx)(p.Z,{variant:"body2",sx:{mt:2,mb:5},children:"Create new shop"}),Q]})}),R]})}}}]);
//# sourceMappingURL=330.e863b8b0.chunk.js.map