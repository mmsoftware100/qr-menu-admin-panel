"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[268],{5268:function(e,n,i){i.r(n),i.d(n,{default:function(){return D}});var a=i(6907),s=i(4942),r=i(1413),l=i(9439),o=i(2791),t=i(697),d=i(533),h=i(7621),c=i(6314),m=i(2880),u=i(8550),p=i(890),x=i(9709),g=i(3967),j=i(2065),f=i(5289),Z=i(7123),v=i(9157),_=i(1691),b=i(5661),w=i(6916),k=i(6779),y=i(4349),P=(i(7429),i(9434)),C=i(7689),W=i(1889),O=i(1397),S=i(6425),T=i(8417),I=i(184);function F(){var e,n,i,a,F,D,E,N,U=(0,g.Z)(),q=((0,w.t)(),(0,o.useState)(!1)),H=(0,l.Z)(q,2),z=(H[0],H[1],(0,C.s0)()),A=(0,P.I0)(),B=(0,o.useState)({name:"",email:"",password:"",confirm_password:""}),G=(0,l.Z)(B,2),J=G[0],K=G[1],V=(0,o.useState)({background_image:null,shop_image:null}),X=(0,l.Z)(V,2),L=X[0],M=(X[1],(0,P.v9)(S.H2)),Q=(0,P.v9)(S.Xj),R=(0,P.v9)(S.cs),Y=(0,P.v9)(S.Jo),$=(0,P.v9)(O.Gu),ee=function(e){var n=e.target,i=n.name,a=n.value;console.log({name:i,value:a}),A((0,S.OI)({name:i,value:a})),K((0,r.Z)((0,r.Z)({},J),{},(0,s.Z)({},i,a)))},ne=function(){A((0,S.Tj)("idle"))};(0,o.useEffect)((function(){"succeeded"==M&&(A((0,S.Tj)("idle")),z("/shops"))}),[M]);var ie=(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(t.Z,{component:"form",onSubmit:function(e){console.log(e),e.preventDefault();var n={};if(console.log(n),Object.keys(n).length>0)A((0,S.ho)(n));else{A((0,S.ho)({}));var i=new FormData(e.target);null!==L.background_image&&i.append("background_image",L.background_image),null!==L.shop_image&&i.append("shop_image",L.shop_image),console.log(i.get("background_image")),console.log(i.get("shop_image")),console.log(i.get("access_token")),A((0,T.x4)(i))}},noValidate:!0,sx:{mt:1},children:[(0,I.jsx)("input",{type:"hidden",value:$,name:"access_token",placeholder:"Hidden Input"}),(0,I.jsx)("input",{type:"hidden",name:"id",value:Y.id,placeholder:"Shop Id"}),(0,I.jsxs)(W.ZP,{container:!0,spacing:3,children:[(0,I.jsx)(W.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(u.Z,{name:"name",label:"Shop Name",value:null!==(e=Y.name)&&void 0!==e?e:"",onChange:ee,error:R.hasOwnProperty("name"),helperText:R.name,fullWidth:!0})}),(0,I.jsx)(W.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(u.Z,{name:"description",label:"Shop Description",value:null!==(n=Y.description)&&void 0!==n?n:"",onChange:ee,error:R.hasOwnProperty("description"),helperText:R.description,fullWidth:!0})}),(0,I.jsx)(W.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(u.Z,{name:"address",label:"Address",value:null!==(i=Y.address)&&void 0!==i?i:"",onChange:ee,error:R.hasOwnProperty("address"),helperText:R.address,fullWidth:!0})}),(0,I.jsx)(W.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(u.Z,{name:"phone",label:"Phone Number",value:null!==(a=Y.phone)&&void 0!==a?a:"",onChange:ee,error:R.hasOwnProperty("phone"),helperText:R.phone,fullWidth:!0})}),(0,I.jsx)(W.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(u.Z,{name:"wifi_name",label:"Wifi Name",value:null!==(F=Y.wifi_name)&&void 0!==F?F:"",onChange:ee,error:R.hasOwnProperty("wifi_name"),helperText:R.wifi_name,fullWidth:!0})}),(0,I.jsx)(W.ZP,{item:!0,xs:12,sm:6,children:(0,I.jsx)(u.Z,{name:"wifi_password",label:"Wifi Password",value:null!==(D=Y.wifi_password)&&void 0!==D?D:"",onChange:ee,error:R.hasOwnProperty("wifi_password"),helperText:R.wifi_password,fullWidth:!0})}),(0,I.jsxs)(W.ZP,{item:!0,xs:12,sm:6,children:[(0,I.jsxs)(p.Z,{children:["Shop Image ",null===(E=L.background_image)||void 0===E?void 0:E.name]}),(0,I.jsx)(u.Z,{type:"file",name:"shop_image",onChange:ee,error:R.hasOwnProperty("shop_image"),helperText:R.shop_image,fullWidth:!0})]}),(0,I.jsxs)(W.ZP,{item:!0,xs:12,sm:6,children:[(0,I.jsxs)(p.Z,{children:["Background Image ",null===(N=L.background_image)||void 0===N?void 0:N.name]}),(0,I.jsx)(u.Z,{type:"file",name:"background_image",onChange:ee,error:R.hasOwnProperty("background_image"),helperText:R.background_image,fullWidth:!0})]})]}),(0,I.jsx)(c.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:(0,I.jsx)(d.Z,{variant:"subtitle2",underline:"hover"})}),(0,I.jsx)(x.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",loading:"idle"!==M,children:"Update Shop"})]})}),ae=(0,I.jsxs)(f.Z,{open:"error"===M,onClose:ne,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,I.jsx)(b.Z,{id:"alert-dialog-title",children:"Error"}),(0,I.jsx)(v.Z,{children:(0,I.jsx)(_.Z,{id:"alert-dialog-description",children:Q})}),(0,I.jsx)(Z.Z,{children:(0,I.jsx)(m.Z,{onClick:ne,autoFocus:!0,children:"OK"})})]});return(0,I.jsxs)(t.Z,{sx:(0,r.Z)((0,r.Z)({},(0,k.v3)({color:(0,j.Fq)(U.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"})),{},{height:1}),children:[(0,I.jsx)(y.Z,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),(0,I.jsx)(c.Z,{alignItems:"center",justifyContent:"center",sx:{height:1},children:(0,I.jsxs)(h.Z,{sx:{p:5,width:1,maxWidth:1024},children:[(0,I.jsx)(p.Z,{variant:"h4",children:"Update Shop"}),(0,I.jsx)(p.Z,{variant:"body2",sx:{mt:2,mb:5},children:"Create new shop"}),ie]})}),ae]})}function D(){return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(a.ql,{children:(0,I.jsx)("title",{children:" Shops | Edit "})}),(0,I.jsx)(F,{})]})}}}]);
//# sourceMappingURL=268.69c3c88a.chunk.js.map