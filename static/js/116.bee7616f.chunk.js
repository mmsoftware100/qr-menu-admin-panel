"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[116],{7116:function(e,r,n){n.r(r),n.d(r,{default:function(){return I}});var s=n(6907),i=n(4942),a=n(1413),t=n(9439),o=n(2791),l=n(697),d=n(533),c=n(7621),h=n(6314),m=n(2880),p=n(9218),u=n(890),x=n(9709),g=n(3967),j=n(2065),Z=n(5289),f=n(7123),b=n(9157),_=n(1691),w=n(5661),v=n(6916),k=n(6779),y=n(4349),P=(n(7429),n(9434)),C=n(7689),W=n(1397),O=n(6425),S=n(5463),T=n(1889),q=n(184);function F(){var e,r,n=(0,g.Z)(),s=((0,v.t)(),(0,o.useState)(!1)),F=(0,t.Z)(s,2),I=(F[0],F[1],(0,C.s0)()),D=(0,P.I0)(),N=(0,o.useState)({name:"",email:"",password:"",confirm_password:""}),U=(0,t.Z)(N,2),X=U[0],A=U[1],B=(0,o.useState)({background_image:null,shop_image:null}),E=(0,t.Z)(B,2),L=E[0],R=(E[1],(0,P.v9)(O.V9)),V=(0,P.v9)(O.Xj),z=(0,P.v9)(O.cs),G=(0,P.v9)(W.Gu),H=function(e){var r=e.target,n=r.name,s=r.value;console.log({name:n,value:s}),A((0,a.Z)((0,a.Z)({},X),{},(0,i.Z)({},n,s)))},K=function(){D((0,O.Xp)("idle"))};(0,o.useEffect)((function(){"succeeded"==R&&(D((0,O.Xp)("idle")),I("/shops"))}),[R]);var $=(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(l.Z,{component:"form",onSubmit:function(e){console.log(e),e.preventDefault();var r={};if(X.name||(r.name="Name is required"),X.description||(r.description="Description is required"),X.address||(r.address="Address is required"),X.contact||(r.contact="Contact is required"),X.url||(r.url="URL is required"),console.log(),console.log(r),Object.keys(r).length>0)D((0,O.ho)(r));else{D((0,W.B$)({}));var n=new FormData(e.target);void 0!==L.background_image&&n.append("background_image",L.background_image),void 0!==L.shop_image&&n.append("shop_image",L.shop_image),console.log(n.get("background_image")),console.log(n.get("shop_image")),console.log(n.get("access_token")),D((0,S.Dp)(n))}},noValidate:!0,sx:{mt:1},children:[(0,q.jsx)("input",{type:"hidden",value:G,name:"access_token",placeholder:"Hidden Input"}),(0,q.jsxs)(T.ZP,{container:!0,spacing:3,children:[(0,q.jsx)(T.ZP,{item:!0,xs:12,sm:6,children:(0,q.jsx)(p.Z,{name:"name",label:"Shop Name",onChange:H,error:z.hasOwnProperty("name"),helperText:z.name,fullWidth:!0})}),(0,q.jsx)(T.ZP,{item:!0,xs:12,sm:6,children:(0,q.jsx)(p.Z,{name:"description",label:"Shop Description",onChange:H,error:z.hasOwnProperty("description"),helperText:z.description,fullWidth:!0})}),(0,q.jsx)(T.ZP,{item:!0,xs:12,sm:6,children:(0,q.jsx)(p.Z,{name:"address",label:"Address",onChange:H,error:z.hasOwnProperty("address"),helperText:z.address,fullWidth:!0})}),(0,q.jsx)(T.ZP,{item:!0,xs:12,sm:6,children:(0,q.jsx)(p.Z,{name:"contact",label:"Contact Number",onChange:H,error:z.hasOwnProperty("contact"),helperText:z.contact,fullWidth:!0})}),(0,q.jsx)(T.ZP,{item:!0,xs:12,sm:6,children:(0,q.jsx)(p.Z,{name:"url",label:"URL",onChange:H,error:z.hasOwnProperty("url"),helperText:z.url,fullWidth:!0})}),(0,q.jsx)(T.ZP,{item:!0,xs:12,sm:6,children:(0,q.jsx)(p.Z,{name:"wifi_name",label:"Wifi Name",onChange:H,error:z.hasOwnProperty("wifi_name"),helperText:z.wifi_name,fullWidth:!0})}),(0,q.jsx)(T.ZP,{item:!0,xs:12,sm:6,children:(0,q.jsx)(p.Z,{name:"wifi_password",label:"Wifi Password",onChange:H,error:z.hasOwnProperty("wifi_password"),helperText:z.wifi_password,fullWidth:!0})}),(0,q.jsx)(T.ZP,{item:!0,xs:12,sm:6}),(0,q.jsxs)(T.ZP,{item:!0,xs:12,sm:6,children:[(0,q.jsxs)(u.Z,{children:["Shop Image ",null===(e=L.background_image)||void 0===e?void 0:e.name]}),(0,q.jsx)(p.Z,{type:"file",name:"shop_image",onChange:H,error:z.hasOwnProperty("shop_image"),helperText:z.shop_image,fullWidth:!0})]}),(0,q.jsxs)(T.ZP,{item:!0,xs:12,sm:6,children:[(0,q.jsxs)(u.Z,{children:["Background Image ",null===(r=L.background_image)||void 0===r?void 0:r.name]}),(0,q.jsx)(p.Z,{type:"file",name:"background_image",onChange:H,error:z.hasOwnProperty("background_image"),helperText:z.background_image,fullWidth:!0})]})]}),(0,q.jsx)(h.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:(0,q.jsx)(d.Z,{variant:"subtitle2",underline:"hover"})}),(0,q.jsx)(x.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",loading:"idle"!==R,children:"Create Shop"})]})}),J=(0,q.jsxs)(Z.Z,{open:"error"===R,onClose:K,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,q.jsx)(w.Z,{id:"alert-dialog-title",children:"Error"}),(0,q.jsx)(b.Z,{children:(0,q.jsx)(_.Z,{id:"alert-dialog-description",children:V})}),(0,q.jsx)(f.Z,{children:(0,q.jsx)(m.Z,{onClick:K,autoFocus:!0,children:"OK"})})]});return(0,q.jsxs)(l.Z,{sx:(0,a.Z)((0,a.Z)({},(0,k.v3)({color:(0,j.Fq)(n.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"})),{},{height:1}),children:[(0,q.jsx)(y.Z,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),(0,q.jsx)(h.Z,{alignItems:"center",justifyContent:"center",sx:{height:1},children:(0,q.jsxs)(c.Z,{sx:{p:5,width:1,maxWidth:1024},children:[(0,q.jsx)(u.Z,{variant:"h4",children:"New Shop Form"}),(0,q.jsx)(u.Z,{variant:"body2",sx:{mt:2,mb:5},children:"Create new shop"}),$]})}),J]})}function I(){return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(s.ql,{children:(0,q.jsx)("title",{children:" Shops | Create "})}),(0,q.jsx)(F,{})]})}}}]);
//# sourceMappingURL=116.bee7616f.chunk.js.map